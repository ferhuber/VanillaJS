<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title> Vanilla Zoo</title>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  </head>
  <body>

<!--  http://keycode.info/ for verify what is the correspondent number-->
  <div class="row">
    <div class="title">
      <h1>Zoo</h1>
    </div>
    <div class="keys">
      <div data-key="65"class="key">
        <kbd>A</kbd>
        <span class="sound">bird</span>
      </div>
      <div data-key="83"class="key">
        <kbd>S</kbd>
        <span class="sound">pig</span>
      </div>
      <div data-key="68"class="key">
        <kbd>D</kbd>
        <span class="sound">duck</span>
      </div>
      <div data-key="70"class="key">
        <kbd>F</kbd>
        <span class="sound">cow</span>
      </div>
      <div data-key="71"class="key">
        <kbd>G</kbd>
        <span class="sound">crickets</span>
      </div>
      <div data-key="72"class="key">
        <kbd>H</kbd>
        <span class="sound">horse</span>
      </div>
      <div data-key="74"class="key">
        <kbd>J</kbd>
        <span class="sound">lion</span>
      </div>
      <div data-key="75"class="key">
        <kbd>K</kbd>
        <span class="sound">donkey</span>
      </div>
      <div data-key="76"class="key">
        <kbd>L</kbd>
        <span class="sound">cat</span>
      </div>
    </div>
  </div>

<audio data-key="65" src="audio/bird.wav"></audio>
<audio data-key="83" src="audio/pig.wav"></audio>
<audio data-key="68" src="audio/duck_quack.wav"></audio>
<audio data-key="70" src="audio/cow1.wav"></audio>
<audio data-key="71" src="audio/crickets.wav"></audio>
<audio data-key="72" src="audio/horse.wav"></audio>
<audio data-key="74" src="audio/lion_roar.wav"></audio>
<audio data-key="75" src="audio/donkey_x.wav"></audio>
<audio data-key="76" src="audio/cat_meow_x.wav"></audio>


<script>
  function playSound(e){
    const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`)
    const key  = document.querySelector(`.key[data-key="${e.keyCode}"]`)
    if (!audio) return;
    audio.currentTime = 0;
    audio.play()
    key.classList.add('playing');
  };

  function removeTransition(e){
    if(e.propertyName !== 'transform') return;
    this.classList.remove('playing')
  }

  const keys = document.querySelectorAll('.key');
  keys.forEach(key => key.addEventListener('transitionend', removeTransition));
  window.addEventListener('keydown', playSound);


</script>

  </body>
</html>
